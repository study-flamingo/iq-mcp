# IQ-MCP Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!

# Core Settings
IQ_DEBUG=false
IQ_MEMORY_PATH=/data/memory.jsonl
IQ_TRANSPORT=http
IQ_STREAMABLE_HTTP_HOST=0.0.0.0
IQ_STREAMABLE_HTTP_PORT=8000

# MCP Endpoint Path (optional, default: "/" for root)
# Set this if you need MCP at a subpath, e.g., /mcp
# Recommended: Leave as "/" for simplest OAuth configuration
IQ_MCP_PATH=/

# OAuth 2.1 with Supabase (SupabaseProvider)
# Supabase handles OAuth flow, FastMCP validates JWTs
IQ_ENABLE_SUPABASE_AUTH=true
IQ_SUPABASE_AUTH_PROJECT_URL=https://your-project.supabase.co
IQ_SUPABASE_AUTH_ALGORITHM=ES256  # ES256 or RS256 (asymmetric crypto)

# Public base URL - REQUIRED for OAuth callbacks
# Do NOT include the MCP path here - it's added automatically
IQ_BASE_URL=https://your-server-url.com

# NO client credentials needed - Supabase handles DCR!
# These are NOT required with SupabaseProvider:
# IQ_OAUTH_CLIENT_ID (not needed)
# IQ_OAUTH_CLIENT_SECRET (not needed)

# Security Settings
# Set to "true" to enforce authentication (server will fail without valid config)
IQ_REQUIRE_AUTH=false

# Supabase Integration (for data persistence)
IQ_ENABLE_SUPABASE=true
IQ_SUPABASE_URL=https://your-project.supabase.co
IQ_SUPABASE_KEY=your-supabase-anon-or-service-key

# FastMCP Settings
FASTMCP_STATELESS_HTTP=true

# IMPORTANT: Supabase Dashboard Configuration
# You MUST configure these settings in Supabase Dashboard:
# 1. Authentication > URL Configuration > Site URL: https://your-server-url.com
# 2. Authentication > URL Configuration > Redirect URLs: Add your callback URLs
# 3. Authentication > OAuth Server > Enable OAuth Server
# 4. Authentication > OAuth Server > Set Authorization Path (e.g., /oauth/consent)
#
# Note for Claude Desktop / MCP Clients:
# - Configure server URL as: https://your-server-url.com (if MCP_PATH is /)
# - OAuth flow is handled by Supabase
# - No manual client registration needed
