# IQ-MCP Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!

# Core Settings
IQ_DEBUG=false
IQ_MEMORY_PATH=/data/memory.jsonl
IQ_TRANSPORT=http
IQ_STREAMABLE_HTTP_HOST=0.0.0.0
IQ_STREAMABLE_HTTP_PORT=8000
IQ_STREAMABLE_HTTP_PATH=/

# OAuth 2.1 Authentication for Claude Desktop (RECOMMENDED)
# This provides full OAuth endpoints that Claude Desktop requires
IQ_ENABLE_SUPABASE_AUTH=true
IQ_SUPABASE_AUTH_PROJECT_URL=https://your-project.supabase.co
IQ_SUPABASE_AUTH_ALGORITHM=ES256  # ES256 or RS256 only (asymmetric crypto)

# OAuth 2.1 Client Credentials (REQUIRED for Claude Desktop)
# These are used by OAuthProxy to bridge Claude Desktop ↔ Supabase
# Create at: Supabase Dashboard → Authentication → OAuth Apps
IQ_OAUTH_CLIENT_ID=your-oauth-client-id-from-supabase
IQ_OAUTH_CLIENT_SECRET=your-oauth-client-secret-from-supabase

# Public base URL (must match exactly what you configure in Claude Desktop)
IQ_BASE_URL=https://your-server-url.com

# Optional: Custom authorization servers (defaults to project_url/auth/v1)
# IQ_OAUTH_AUTHORIZATION_SERVERS=https://your-project.supabase.co/auth/v1

# Security Settings
# Set to "true" to enforce authentication (server will fail without valid config)
IQ_REQUIRE_AUTH=false

# Supabase Integration (for data persistence)
IQ_ENABLE_SUPABASE=true
IQ_SUPABASE_URL=https://your-project.supabase.co
IQ_SUPABASE_KEY=your-supabase-anon-or-service-key

# FastMCP Settings
FASTMCP_STATELESS_HTTP=true

# Note for Claude Desktop:
# - Configure server URL as: https://your-server-url.com
# - Claude will handle OAuth flow automatically once credentials are set
# - No manual client registration needed (OAuthProxy handles this)