# IQ-MCP Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it contains secrets!

# Core Settings
IQ_DEBUG=false
IQ_MEMORY_PATH=/data/memory.jsonl
IQ_TRANSPORT=http
IQ_STREAMABLE_HTTP_HOST=0.0.0.0
IQ_STREAMABLE_HTTP_PORT=8000
IQ_STREAMABLE_HTTP_PATH=/mcp

# Authentication
# Generate a secure API key with: openssl rand -base64 32
IQ_API_KEY=iqmcp-sk-YOUR_GENERATED_KEY_HERE
IQ_CLIENT_ID=your-client-id

# Supabase OAuth 2.1 Authentication with Dynamic Client Registration (DCR)
# Enables MCP clients like Claude Desktop to auto-discover and self-register
IQ_ENABLE_SUPABASE_AUTH=false
IQ_SUPABASE_AUTH_PROJECT_URL=https://your-project.supabase.co
IQ_SUPABASE_AUTH_ALGORITHM=ES256  # ES256 or RS256 required for DCR (HS256 not recommended)
# IQ_SUPABASE_JWT_SECRET=your-secret  # Only required for HS256 (deprecated for DCR)

# OAuth 2.1 Dynamic Client Registration (DCR) - Optional Advanced Settings
# Authorization servers (comma-separated, defaults to project_url/auth/v1)
# IQ_OAUTH_AUTHORIZATION_SERVERS=https://your-project.supabase.co/auth/v1
# Allowed client redirect URIs (comma-separated patterns, defaults to localhost + https)
# IQ_ALLOWED_CLIENT_REDIRECT_URIS=http://localhost:*,https://*

# Public base URL (required for OAuth to work)
IQ_BASE_URL=https://mcp.casimir.ai

# Security Settings
# Set to "true" to enforce authentication (server will fail to start without API key)
# Recommended for production deployments
IQ_REQUIRE_AUTH=false

# Supabase Integration (optional)
IQ_ENABLE_SUPABASE=true
IQ_SUPABASE_URL=https://your-project.supabase.co
IQ_SUPABASE_KEY=your-supabase-anon-or-service-key

# FastMCP Settings
FASTMCP_STATELESS_HTTP=true
